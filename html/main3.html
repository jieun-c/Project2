<script>
    var swiper = new Swiper('.swiper-container', {
        speed : 1000,
        centeredSlides: true,
        grabCursor: true,
        slidesPerView: 'auto',
        loop:true,
        slideToClickedSlide: true,
        //spaceBetween: 100,
    });
    
    var prmBtn = $("#prmBtn > li");
    
    //버튼 --> 슬라이드 제어
    prmBtn.click(function(){
        var btn = $(this).index();
        
        var din = $(".dining").index();
        var acc = $(".accommodation").index();
        var etc = $(".etc").index();
        
        prmBtn.removeClass("on");
        $(this).addClass("on");
        
        switch(btn){
            case 0:
                swiper.slideToLoop(din, 1000, false);
                break;
            case 1:
                swiper.slideToLoop(acc, 1000, false);
                break;
            case 2:
                swiper.slideToLoop(etc, 1000, false);
                break;
            default:
                break;
        }
        
        
    });
    
    //슬라이드 --> 버튼 제어 (클릭) ::: 이미지는 넘어가는데 버튼 색상이 바뀌지 않는 일부 버그 해결 필요(액티브)
    $(".swiper-slide").click(function(){
        
        if($(this).hasClass("swiper-slide-active") || $(this).hasClass("swiper-slide-duplicate-active")){
            if($(this).hasClass("dining")){
                prmBtn.removeClass("on");
                prmBtn.eq(0).addClass("on");
            }else if($(this).hasClass("accommodation")){
                prmBtn.removeClass("on");
                prmBtn.eq(1).addClass("on");
            }else if($(this).hasClass("etc")){
                prmBtn.removeClass("on");
                prmBtn.eq(2).addClass("on");
            }else{
                console.log("카테고리 클래스를 찾을 수 없습니다.");
                
            }
        }else{
            //움직이는동안 클릭하면 액티브가 되지 않음
            console.log("액티브 클래스를 찾을 수 없습니다."); 
        }
        
    });
    
    
    
    /* 만약 슬라이드 클래스 이름에 'active'가 들어간다면
    버튼:  클래스이름에 다이닝이 있는지 찾는다 > (리무브 후) 0번버튼 클래스 on
          클래스 이름에 숙박이 있는지 찾는다 > (리무브 후) 1번버튼 클래스 on
          클래스 이름에 etc가 있는지 찾는다 > (리무브 후) 2번버튼  클래스 on */
    
    //슬라이드 --> 버튼 제어 (드래그)
    /*$(".swiper-slide").draggable({
        stop: function(){
            console.log("ddd");
        }
    });*/
    
    
    
    /*box.draggable({                          
        drag:function(){                  
            positionInfo.find('.ol').text(box.offset().left);
            positionInfo.find('.ot').text(box.offset().top);
            positionInfo.find('.pl').text(box.position().left);
            positionInfo.find('.pt').text(box.position().top);
        }
    });*/
    /*$(".swiper-container").draggable(function(){
        
        console.log("inner");
        
        if($(".swiper-wrapper > div").hasClass("swiper-slide-active")){
            if($(".swiper-wrapper > div").hasClass("dining")){
                prmBtn.removeClass("on");
                prmBtn.eq(0).addClass("on");
                console.log("다이닝");
            }else if($(".swiper-wrapper > div").hasClass("accommodation")){
                prmBtn.removeClass("on");
                prmBtn.eq(1).addClass("on");
                console.log("숙박");
            }else{
                prmBtn.removeClass("on");
                prmBtn.eq(2).addClass("on");
                console.log("기타");
            }

        }else{
            console.log("error");
        }
        
        
        console.log("inner");
        
    });*/
    
    var title_prm = $("#prmhead");
    title_prm.hide();
    
    //title
    $(window).scroll(function(){
        var main = $("#main3").offset().top;
        var w = $(window).scrollTop();
        
        if(main <= w*2){
            title_prm.slideDown(1000);
        }else{
            title_prm.hide();
        }
    });
    
</script>
  
<div id="prmhead">
    <h1>Promotion</h1><img class="milton" src="img/icon/milton2.png" alt="">
</div>

<div class="swiper-container">
    <div class="swiper-wrapper">
        <div class="swiper-slide dining">
            <img src="../img/5/dining1-1.png" alt="">
        </div>
        <div class="swiper-slide dining">
            <img src="../img/5/dining2-1.jpeg" alt="">
        </div>
        <div class="swiper-slide accommodation">
            <img src="../img/5/acm1-1.jpg" alt="">
        </div>
        <div class="swiper-slide accommodation">
            <img src="../img/5/acm2-1.png" alt="">
        </div>
        <div class="swiper-slide etc">
            <img src="../img/5/banquet1.jpg" alt="">
        </div>
    </div>
</div>

<ul id="prmBtn">
    <li class="on">Dining</li>
    <li>Accommodation</li>
    <li>Etc</li>
</ul>